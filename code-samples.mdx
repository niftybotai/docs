---
title: Code Samples
description: "Quickly integrate the NiftyBot API into your application with these code samples in popular languages."
---

Here are some examples of how to call the `/v1/enrich` endpoint using popular programming languages. All examples perform the same task: enriching a company profile to find its latest valuation.

<CodeGroup>
```python Python
import requests
import json

# Your API key from the NiftyBot dashboard
api_key = "YOUR_API_KEY"

# The API endpoint
url = "https://api.niftybot.ai/v1/enrich"

# The headers, including your API key and content type
headers = {
    "Content-Type": "application/json",
    "X-API-Key": api_key
}

# The data payload for the enrichment request
enrichment_request = {
    "source": {
        "company": "Stripe",
        "website": "stripe.com"
    },
    "requests": [
        {
            "field_name": "latest_valuation_usd",
            "field_type": "numeric"
        }
    ]
}

try:
    # Make the POST request
    response = requests.post(url, headers=headers, data=json.dumps(enrichment_request))

    # Raise an exception for bad status codes (4xx or 5xx)
    response.raise_for_status()

    # Print the beautified JSON response
    print(json.dumps(response.json(), indent=2))

except requests.exceptions.HTTPError as http_err:
    print(f"HTTP error occurred: {http_err} - {response.text}")
except Exception as err:
    print(f"An error occurred: {err}")
```

```javascript Node.js (axios)
import axios from 'axios';

// Your API key from the NiftyBot dashboard
const apiKey = 'YOUR_API_KEY';

// The API endpoint
const url = 'https://api.niftybot.ai/v1/enrich';

// The data payload for the enrichment request
const enrichmentRequest = {
  source: {
    company: 'Stripe',
    website: 'stripe.com',
  },
  requests: [
    {
      field_name: 'latest_valuation_usd',
      field_type: 'numeric',
    },
  ],
};

// The headers, including your API key
const headers = {
  'Content-Type': 'application/json',
  'X-API-Key': apiKey,
};

async function enrichData() {
  try {
    const response = await axios.post(url, enrichmentRequest, { headers });
    console.log(JSON.stringify(response.data, null, 2));
  } catch (error) {
    console.error('Error making API request:');
    if (error.response) {
      console.error(`Status: ${error.response.status}`);
      console.error('Data:', error.response.data);
    } else {
      console.error(error.message);
    }
  }
}

enrichData();
```

```go Go
package main

import (
	"bytes"
	"encoding/json"
	"fmt"
	"io/ioutil"
	"net/http"
)

func main() {
	// Your API key from the NiftyBot dashboard
	apiKey := "YOUR_API_KEY"

	// The API endpoint
	url := "https://api.niftybot.ai/v1/enrich"

	// The data payload for the enrichment request
	requestData := map[string]interface{}{
		"source": map[string]string{
			"company": "Stripe",
			"website": "stripe.com",
		},
		"requests": []map[string]string{
			{
				"field_name": "latest_valuation_usd",
				"field_type": "numeric",
			},
		},
	}

	jsonData, err := json.Marshal(requestData)
	if err != nil {
		fmt.Println("Error marshalling JSON:", err)
		return
	}

	req, err := http.NewRequest("POST", url, bytes.NewBuffer(jsonData))
	if err != nil {
		fmt.Println("Error creating request:", err)
		return
	}

	// Set headers
	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("X-API-Key", apiKey)

	client := &http.Client{}
	resp, err := client.Do(req)
	if err != nil {
		fmt.Println("Error sending request:", err)
		return
	}
	defer resp.Body.Close()

	body, err := ioutil.ReadAll(resp.Body)
	if err != nil {
		fmt.Println("Error reading response body:", err)
		return
	}

	fmt.Println("Status Code:", resp.StatusCode)
	// Pretty-print JSON if possible
	var prettyJSON bytes.Buffer
	if err := json.Indent(&prettyJSON, body, "", "  "); err == nil {
		fmt.Println(string(prettyJSON.Bytes()))
	} else {
		fmt.Println(string(body))
	}
}
```

```ruby Ruby
require 'uri'
require 'net/http'
require 'json'

# Your API key from the NiftyBot dashboard
api_key = 'YOUR_API_KEY'

# The API endpoint
url = URI("https://api.niftybot.ai/v1/enrich")

http = Net::HTTP.new(url.host, url.port)
http.use_ssl = true

request = Net::HTTP::Post.new(url)
request["Content-Type"] = 'application/json'
request["X-API-Key"] = api_key

# The data payload for the enrichment request
enrichment_request = {
  source: {
    company: "Stripe",
    website: "stripe.com"
  },
  requests: [
    {
      field_name: "latest_valuation_usd",
      field_type: "numeric"
    }
  ]
}

request.body = enrichment_request.to_json

begin
    response = http.request(request)
    puts "Status Code: #{response.code}"
    # Pretty-print the JSON response
    puts JSON.pretty_generate(JSON.parse(response.read_body))
rescue => e
    puts "An error occurred: #{e.message}"
end
```

```php PHP
<?php

// Your API key from the NiftyBot dashboard
$apiKey = 'YOUR_API_KEY';

// The API endpoint
$url = 'https://api.niftybot.ai/v1/enrich';

// The data payload for the enrichment request
$enrichmentRequest = [
    'source' => [
        'company' => 'Stripe',
        'website' => 'stripe.com'
    ],
    'requests' => [
        [
            'field_name' => 'latest_valuation_usd',
            'field_type' => 'numeric'
        ]
    ]
];

$ch = curl_init($url);

curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($enrichmentRequest));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'X-API-Key: ' . $apiKey
]);

$response = curl_exec($ch);
$httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
$error = curl_error($ch);

curl_close($ch);

if ($error) {
    echo "cURL Error: " . $error;
} else {
    echo "HTTP Status Code: " . $httpcode . "\n";
    // Pretty-print the JSON response
    $jsonResponse = json_decode($response);
    echo json_encode($jsonResponse, JSON_PRETTY_PRINT);
}

?>
```

```csharp C#
using System;
using System.Net.Http;
using System.Text;
using System.Threading.Tasks;
using Newtonsoft.Json;

class Program
{
    static readonly HttpClient client = new HttpClient();

    static async Task Main()
    {
        // Your API key from the NiftyBot dashboard
        var apiKey = "YOUR_API_KEY";

        // The API endpoint
        var url = "https://api.niftybot.ai/v1/enrich";

        // The data payload for the enrichment request
        var enrichmentRequest = new
        {
            source = new { company = "Stripe", website = "stripe.com" },
            requests = new[]
            {
                new { field_name = "latest_valuation_usd", field_type = "numeric" }
            }
        };

        var jsonPayload = JsonConvert.SerializeObject(enrichmentRequest);
        var content = new StringContent(jsonPayload, Encoding.UTF8, "application/json");

        // Add the API key to the request headers
        client.DefaultRequestHeaders.Clear();
        client.DefaultRequestHeaders.Add("X-API-Key", apiKey);

        try
        {
            HttpResponseMessage response = await client.PostAsync(url, content);
            Console.WriteLine($"Status Code: {response.StatusCode}");
            string responseBody = await response.Content.ReadAsStringAsync();
            
            // Pretty-print the JSON response
            dynamic parsedJson = JsonConvert.DeserializeObject(responseBody);
            Console.WriteLine(JsonConvert.SerializeObject(parsedJson, Formatting.Indented));

            response.EnsureSuccessStatusCode();
        }
        catch (HttpRequestException e)
        {
            Console.WriteLine("\nException Caught!");
            Console.WriteLine("Message :{0} ", e.Message);
        }
    }
}
```

```java Java
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.JsonParser;
import java.util.Map;
import java.util.List;

public class NiftyBotExample {
    public static void main(String[] args) {
        // Your API key from the NiftyBot dashboard
        String apiKey = "YOUR_API_KEY";

        // The API endpoint
        String url = "https://api.niftybot.ai/v1/enrich";

        // The data payload for the enrichment request
        Map<String, Object> requestData = Map.of(
            "source", Map.of("company", "Stripe", "website", "stripe.com"),
            "requests", List.of(
                Map.of("field_name", "latest_valuation_usd", "field_type", "numeric")
            )
        );

        Gson gson = new Gson();
        String jsonPayload = gson.toJson(requestData);

        HttpClient client = HttpClient.newHttpClient();
        HttpRequest request = HttpRequest.newBuilder()
                .uri(URI.create(url))
                .header("Content-Type", "application/json")
                .header("X-API-Key", apiKey)
                .POST(HttpRequest.BodyPublishers.ofString(jsonPayload))
                .build();

        try {
            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());

            System.out.println("Status Code: " + response.statusCode());

            // Pretty-print the JSON response
            Gson prettyGson = new GsonBuilder().setPrettyPrinting().create();
            String prettyJson = prettyGson.toJson(JsonParser.parseString(response.body()));
            System.out.println(prettyJson);

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```
</CodeGroup>
